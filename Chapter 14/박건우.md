# 일관성 있는 협력

유사한 기능 -> 일관성있는(유사한) 협력 방식 -> 코드 재사용을 얻을 수 있음

유사한 기능을 서로 다른 방식으로 구현해서는 안된다.

일관성 없는 설계는 코드를 읽는사람으로 하여금 의구심을 생기게 만든다.

코드 재사용은 편의성 그 이상이다. 코드 재사용이 잘 되어 있는 코드는 중복 코드가 없다는 것이고, 

코드 변경에도 유연하게 대처할 수 있다.

### 협력을 일관성있게 만들기 위한 기본 지침

- 변하는 개념을 변하지 않는 개념으로부터 분리하라
- 변하는 개념을 캡슐화 하라

이렇게 해야 변하지 않는 부분에 영향을 끼치지 않으면서 변하는 부분을 수정하거나 확장할 수 있다.

### 캡슐화

- 캡슐화는 데이터를 은닉하는 것 그 이상이다.
- 변할 수 있는 어떤 개념이던지 감추는 것이 올바른 캡슐화이다.
- 추상화된 인터페이스 뒤로 변할 수 있는 요소를 감추자.

### 요구사항을 분석해보기

# 일관성 있는 협력

유사한 기능 -> 일관성있는(유사한) 협력 방식 -> 코드 재사용을 얻을 수 있음

유사한 기능을 서로 다른 방식으로 구현해서는 안된다.

일관성 없는 설계는 코드를 읽는사람으로 하여금 의구심을 생기게 만든다.

코드 재사용은 편의성 그 이상이다. 코드 재사용이 잘 되어 있는 코드는 중복 코드가 없다는 것이고, 

코드 변경에도 유연하게 대처할 수 있다.

### 협력을 일관성있게 만들기 위한 기본 지침

- 변하는 개념을 변하지 않는 개념으로부터 분리하라
- 변하는 개념을 캡슐화 하라

이렇게 해야 변하지 않는 부분에 영향을 끼치지 않으면서 변하는 부분을 수정하거나 확장할 수 있다.

### 캡슐화

- 캡슐화는 데이터를 은닉하는 것 그 이상이다.
- 변할 수 있는 어떤 개념이던지 감추는 것이 올바른 캡슐화이다.
- 추상화된 인터페이스 뒤로 변할 수 있는 요소를 감추자.

### 요구사항을 분석해보기

![image](https://github.com/gomudayya/object/assets/129571789/3952e41c-4cae-4044-9a3c-a161ebe26dad)


위의 요구사항은 적용 조건과 규칙으로 분리할 수 있다.

적용 조건은 제각기 다르지만, 규칙은 단위시간 당 요금이라는 공통적인 형태를 띤다.

즉 **변하는 부분은 적용 조건에 해당하고, 변하지 않는 부분은 규칙**에 해당한다.


### 지속적으로 개선하라

처음에는 일관성을 유지하는 것 처럼 보이던 협력 패턴도, 요구 사항의 추가에 따라 일관성에 금이갈 수 있다.

이것은 자연스러운 현상이고, 현재의 협력 패턴이 변경의 무게를 지탱하기 힘들다면 과감하게 리팩터링하라.

변경의 방향에 맞게 지속적으로 코드를 개선해야 한다.

### 패턴을 찾아라

훌륭한 설계자가 되는 첫걸음은 변경의 방향을 파악할 수 있는 날카로운 감각을 기르는 것이다.

협력을 일관성 있게 만든다는 것은 유사한 변경을 수용할 수 있는 협력 패턴을 발견하는 것과 동일하다.



위의 요구사항은 적용 조건과 규칙으로 분리할 수 있다.

적용 조건은 제각기 다르지만, 규칙은 단위시간 당 요금이라는 공통적인 형태를 띤다.

즉 **변하는 부분은 적용 조건에 해당하고, 변하지 않는 부분은 규칙**에 해당한다.


### 지속적으로 개선하라

처음에는 일관성을 유지하는 것 처럼 보이던 협력 패턴도, 요구 사항의 추가에 따라 일관성에 금이갈 수 있다.

이것은 자연스러운 현상이고, 현재의 협력 패턴이 변경의 무게를 지탱하기 힘들다면 과감하게 리팩터링하라.

변경의 방향에 맞게 지속적으로 코드를 개선해야 한다.

### 패턴을 찾아라

훌륭한 설계자가 되는 첫걸음은 변경의 방향을 파악할 수 있는 날카로운 감각을 기르는 것이다.

협력을 일관성 있게 만든다는 것은 유사한 변경을 수용할 수 있는 협력 패턴을 발견하는 것과 동일하다.

