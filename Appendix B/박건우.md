# 타입 계층의 구현

타입은 퍼블릭 인터페이스를 의미한다.

클래스안에는 퍼블릭 인터페이스도 있고, 메서드 본문도 있기에 타입과 구현을 동시에 정의하는 것이다.

클래스는 타입을 정의하는 방법중 한 가지 일 뿐이다.

클래스를 사용하지 않고 타입을 구현할 수 있는 방법중에 대표적으로 인터페이스가 있다.

## 인터페이스를 이용한 타입 계층의 구현

![제목 없음-1](https://github.com/gomudayya/object/assets/129571789/346774e5-3eee-42c1-8beb-b8f817af36bf)


위의 그림을 보면 다음과 같은 특징이 있다.

- 여러 클래스가 동일한 타입을 구현할 수 있다.

- 하나의 클래스가 여러 타입을 구현할 수 있다.


**타입은 동알힌 퍼블릭 인터페이스를 가진 객체들의 범주이다.**

클래스가 객체지향의 중심이 아닌 이유

-> 객체지향에서 중요한건 객체가 제공하는 행동이다. 클래스는 단지 객체를 구현하기 위해 사용될 뿐임

[참고]

대부분의 언어에서 다중 상속은 불가능하다.

따라서 상속만 이용해서는 하나의 클래스가 여러 타입을 구현할 수는 없다.

하지만 인터페이스를 이용하면 여러 클래스가 동일한 타입을 구현할 수 있다.

## 추상 클래스를 이용한 타입 계층의 구현

구현을 공유하면서도 결합도로 인한 부작용을 피하는 방법. => 추상 클래스

추상클래스와 일반 구현 상속의 차이

- 의존성의 방향

  - 추상 클래스는 의존성의 방향이 자식클래스에서 부모클래스에 있는 추상메서드로 흐른다.

  - 따라서 부모클래스의 변경에 있어서 안정적이다.

- 의도

   - 추상클래스는 처음부터 상속을 염두하고 설계됨. 
     
     애초에 추상클래스는 자신의 인스턴스를 직접 생성할 수 없기 떄문에


## 추상 클래스와 인터페이스의 결합

인터페이스만 사용하는 방법에도 단점이 있는데, 구현 코드를 포함시킬 수 없다는 것이다.

따라서 중복 코드가 발생할 수 있다.

이 문제를 해결하기 위해서,

인터페이스를 이용해 타입을 정의하고 추상 클래스를 이용해 코드 중복을 방지한다.

자바의 경우 인터페이스의 디폴트 메서드를 이용할 수도 있지만, 

이 경우에 불필요한 퍼블릭 인터페이스가 노출될 수 있다는 단점이 존재한다.

## 덕타이핑

> 어떤 새가 오리처럼 걷고, 오리처럼 헤엄치며, 오리처럼 꽥꽥 소리를 낸다면 나는 이 새를 오리라고 부를 것이다.

**타입은 동알힌 퍼블릭 인터페이스를 가진 객체들의 범주이다.**

동적 타입 언어에서는 객체가 수신할 수 있는 메시지의 집합으로 객체의 타입을 결정할 수 있다.

ex) 루비 : 시그니처가 동일한 메서드를 가진 클래스는 같은 타입으로 취급 가능

이러한 언어들은 클래스나 인터페이스 수준의 결합도를 메시지 수준의 결합도로 낮출 수 있다.

하지만 컴파일 시점에 발견할 수 있는 오류를 실행 시점으로 미루게 되는 단점도 있다.


## 마무리

타입 계층을 구현했다고 해서 그 안에 있는 모든 타입 구현체들이 서브타입과 슈퍼타입의 조건을 만족 시키는 것은 아니다.

어떤 타입이 다른 타입의 서브타입이 되기 위해서는 리스코프 치환 원칙을 준수해야한다.

리스코프 치환 원칙을 준수하지 않는다면 올바른 타입 계층을 수현한 것이 아니다.
