# 10장 상속과 코드 재사용

### 중복 코드는 변경을 방해한다

> 중복의 여부를 판단하는 기준은 변경이다. <br>
> 요구사항이 변경됐을 때 두 코드를 함께 수정해야 한다면 이 코드는 중복이다.


- 중복 코드의 양이 많아질수록, 변경에 취약해지고 버그발생의 가능성이 높아진다


## 상속을 이용해서 중복 코드 제거하기

### 상속을 위한 경고 4가지

> super 를 참조해 부모 클래스의 메서드를 호출할 경우 두 클래스는 강하게 결합된다. <br>
> super 호출을 제거할 수 있는 방법을 찾아 결합도를 제거하라

> 상속받은 부모 클래스의 메서드가 자식 클래스의 내부 구조에 대한 규칙을 깨트릴 수 있다.

> 자식 클래스가 부모 클래스의 메서드를 오버라이딩할 경우 <br>
> 부모 클래스가 자신의 메서드를 사용하는 방법에 자식 클래스가 결합될 수 있다.

> 클래스를 상곡하면 결합도로 인해 자식 클래스와 부모 클래스의 구현을 영원히 변경하지 않거나, <br>
> 자식 클래스와 부모 클래스를 동시에 변경하거나 둘 중 하나를 선택할 수밖에 없다.

### 결론

코드를 재사용하기 위해 상속을 선택했다면, **자식 클래스가 부모 클래스에 강하게 결합**되는 문제가 생긴다<br>
부모 클래스의 변경에 의해 자식 클래스가 강하게 영향을 받게되기때문에 코드변경이 어려워지고,<br>
예상치 못하게 작동할 가능성이 있다.<br>

따라서 상속을 안전하게 활용하기 위해서는 문서화를 해야하는데, 그렇다면 문서화를 하는것은 옳은가? <br>
이러한 문서화는 자식 클래스를 안전하게 사용하도록 부모클래스의 **내부 구현에 대한 내용을 설명**한다. <br>
잘된 API 문서는 메서드가 무엇을 하는지 기술해야하고, 어떻게 하는지를 설명해서는 안된다. <br>
이렇게 클라이언트가 **내부 구현에 대한 정보를 알아야 한다면 올바르게 캡슐화되었다고 볼 수 없다.**<br>


### 그러면 어떻게 해야함?

-> 추상화에 의존하자. 구현에 관한 내용을 상속하지 말자

- 두 메서드가 유사해보인다면 차이점을 메서드로 추출하라 <br>
  -> 추상 메서드로 활용하고 구현체에서 다르게 구현
- 공통 로직은 추상클래스로 올리자

다만 이렇게 해결해도 추상클래스에서 인스턴스가 추가되면, 자식클래스는 영향을 받게 된다.

### 합성을 사용해보자

> 상속은 코드 재사용과 관련된 대부분의 경우 우아한 해결 방법이 아니다

11장에 계속...
